// SPDX-License-Identifier: (GPL-2.0 OR MIT)
/*
 * Copyright (C) 2022 SmartRG Inc.
 * Author: Chad Monroe <chad.monroe@smartrg.com>
 */

#include "mt7986a-smartrg-bonanza-peak.dtsi"

/ {
	model = "SmartRG SDG-8622";
	compatible = "smartrg,sdg-8622", "mediatek,mt7986a";
};

/* 5 degree hysteresis to prevent fan toggling on/off */
&cpu_trip_active_low {
	hysteresis = <5000>;
};

&fan {
	pwms = <&pwm 1 10000 0>;
	/* FIXME: use actual % to operate @ 2020rpm */
	cooling-levels = <0 55 55 55>;
	status = "okay";
};

&gmac0 {
	phy-handle = <&phy5>;
	link-gpio = <&pio 45 0>;
	phy-connection-type = "2500base-x";

	label = "lan";
};

&gmac1 {
	phy-handle = <&phy6>;
	link-gpio = <&pio 44 0>;
	phy-connection-type = "2500base-x";
};

&pcie {
	status = "okay";

	pcie@0,0 {
		reg = <0x0000 0 0 0 0>;

		mt7915@0,0 {
			reg = <0x0000 0 0 0 0>;
			mediatek,eeprom-file-offset = <0xa0000>;
			ieee80211-freq-limit = <5170000 5330000>;
		};
	};
};

&pcie_phy {
	status = "okay";
};

&wmac {
	ieee80211-freq-limit = <2400000 2500000>, <5490000 5835000>;
};
