Index: linux-5.10.52/arch/arm64/boot/dts/mediatek/mt7622-rfb1.dts
===================================================================
--- linux-5.10.52.orig/arch/arm64/boot/dts/mediatek/mt7622-rfb1.dts
+++ linux-5.10.52/arch/arm64/boot/dts/mediatek/mt7622-rfb1.dts
@@ -58,6 +58,33 @@
 		reg = <0 0x40000000 0 0x40000000>;
 	};
 
+	reserved-memory {
+		#address-cells = <2>;
+		#size-cells = <2>;
+		ranges;
+
+		/delete-node/ramoops@0x42ff0000;
+
+		bootdata_reserved: bootdata@0x45000000 {
+			no-map;
+			reg = <0x0 0x45000000 0x0 0x00001000>;
+		};
+		ramoops_reserved: ramoops1@0x45001000 {
+			no-map;
+			compatible = "ramoops";
+			reg = <0x0 0x45001000 0x0 0x00140000>;
+			ftrace-size = <0x20000>;
+			record-size = <0x20000>;
+			console-size = <0x20000>;
+			pmsg-size = <0x80000>;
+		};
+	};
+
+	bootdata {
+		compatible = "bootdata";
+		memory-region = <&bootdata_reserved>;
+	};
+
 	reg_1p8v: regulator-1p8v {
 		compatible = "regulator-fixed";
 		regulator-name = "fixed-1.8V";
@@ -262,6 +289,21 @@
 	status = "okay";
 };
 
+&slot0 {
+	mt76@0,0 {
+		reg = <0x0000 0 0 0 0>;
+		mediatek,mtd-eeprom = <&factory 0x0000>;
+	};
+};
+
+&slot1 {
+	mt76@0,0 {
+		reg = <0x0000 0 0 0 0>;
+		mediatek,mtd-eeprom = <&factory 0x8000>;
+		ieee80211-freq-limit = <5000000 6000000>;
+	};
+};
+
 &pio {
 	/* Attention: GPIO 90 is used to switch between PCIe@1,0 and
 	 * SATA functions. i.e. output-high: PCIe, output-low: SATA
@@ -601,6 +643,74 @@
 	};
 };
 
+&snfi {
+	pinctrl-names = "default";
+	pinctrl-0 = <&serial_nand_pins>;
+	status = "okay";
+
+	spi_nand@0 {
+		#address-cells = <1>;
+		#size-cells = <1>;
+		compatible = "spi-nand";
+		spi-max-frequency = <104000000>;
+		reg = <0>;
+
+		mediatek,bmt-v2;
+
+		partitions {
+			compatible = "fixed-partitions";
+			#address-cells = <1>;
+			#size-cells = <1>;
+
+			partition@0 {
+				label = "Preloader";
+				reg = <0x00000 0x0080000>;
+				read-only;
+			};
+
+			partition@80000 {
+				label = "ATF";
+				reg = <0x80000 0x0040000>;
+			};
+
+			partition@c0000 {
+				label = "Bootloader";
+				reg = <0xc0000 0x0080000>;
+			};
+
+			partition@140000 {
+				label = "Config";
+				reg = <0x140000 0x0080000>;
+			};
+
+			factory: partition@1c0000 {
+				label = "factory";
+				reg = <0x1c0000 0x0100000>;
+			};
+
+			partition@2c0000 {
+				label = "firmware";
+				reg = <0x2c0000 0x4000000>;
+			};
+
+			partition@2200000 {
+				label = "User_data";
+				reg = <0x22c0000 0x4000000>;
+			};
+
+			partition@42c0000 {
+				label = "nand";
+				reg = <0x42c0000 0x3140000>;
+			};
+
+			partition@7400000 {
+				label = "mfginfo";
+				reg = <0x7400000 0x100000>;
+			};
+		};
+	};
+};
+
 &spi0 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&spic0_pins>;
@@ -648,5 +758,5 @@
 
 &wmac {
 	mediatek,mtd-eeprom = <&factory 0x0000>;
-	status = "okay";
+	status = "disabled";
 };
