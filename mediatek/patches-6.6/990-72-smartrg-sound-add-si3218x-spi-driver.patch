From f1ebe890b6076434fbe71890ebc10a64fa2edd57 Mon Sep 17 00:00:00 2001
From: Maso Huang <maso.huang@mediatek.com>
Date: Wed, 15 Nov 2023 13:37:38 +0800
Subject: [PATCH] sound add si3218x spi driver

---
 sound/soc/codecs/Kconfig  | 9 +++++++++
 sound/soc/codecs/Makefile | 5 +++++
 2 files changed, 14 insertions(+)

--- a/sound/soc/codecs/Kconfig
+++ b/sound/soc/codecs/Kconfig
@@ -220,6 +220,7 @@ config SND_SOC_ALL_CODECS
 	imply SND_SOC_RT9120
 	imply SND_SOC_SDW_MOCKUP
 	imply SND_SOC_SGTL5000
+	imply SND_SOC_SI3218X_SPI
 	imply SND_SOC_SI476X
 	imply SND_SOC_SIMPLE_AMPLIFIER
 	imply SND_SOC_SIMPLE_MUX
@@ -2374,6 +2375,10 @@ config SND_SOC_NAU8825
 	tristate
 	depends on I2C
 
+config SND_SOC_SI3218X_SPI
+	tristate "Proslic SI3218X CODEC - SPI"
+	depends on SPI
+
 config SND_SOC_TPA6130A2
 	tristate "Texas Instruments TPA6130A2 headphone amplifier"
 	depends on I2C
--- a/sound/soc/codecs/Makefile
+++ b/sound/soc/codecs/Makefile
@@ -252,6 +252,7 @@ snd-soc-alc5632-objs := alc5632.o
 snd-soc-sigmadsp-objs := sigmadsp.o
 snd-soc-sigmadsp-i2c-objs := sigmadsp-i2c.o
 snd-soc-sigmadsp-regmap-objs := sigmadsp-regmap.o
+snd-soc-si3218x-spi-objs := si3218x-spi.o
 snd-soc-si476x-objs := si476x.o
 snd-soc-sma1303-objs := sma1303.o
 snd-soc-spdif-tx-objs := spdif_transmitter.o
@@ -632,6 +633,7 @@ obj-$(CONFIG_SND_SOC_SGTL5000)  += snd-s
 obj-$(CONFIG_SND_SOC_SIGMADSP)	+= snd-soc-sigmadsp.o
 obj-$(CONFIG_SND_SOC_SIGMADSP_I2C)	+= snd-soc-sigmadsp-i2c.o
 obj-$(CONFIG_SND_SOC_SIGMADSP_REGMAP)	+= snd-soc-sigmadsp-regmap.o
+obj-$(CONFIG_SND_SOC_SI3218X_SPI) += snd-soc-si3218x-spi.o
 obj-$(CONFIG_SND_SOC_SI476X)	+= snd-soc-si476x.o
 obj-$(CONFIG_SND_SOC_SLIC_DUMMY)	+= slic-dummy.o
 obj-$(CONFIG_SND_SOC_SMA1303)	+= snd-soc-sma1303.o
